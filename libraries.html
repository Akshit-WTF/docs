<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Libraries | Top.gg Docs</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Documentation for top.gg public API">
    
    <link rel="preload" href="/assets/css/0.styles.17440289.css" as="style"><link rel="preload" href="/assets/js/app.f0768e51.js" as="script"><link rel="preload" href="/assets/js/3.de95a03c.js" as="script"><link rel="preload" href="/assets/js/9.afb9b26d.js" as="script"><link rel="prefetch" href="/assets/js/1.23e19be0.js"><link rel="prefetch" href="/assets/js/10.fea01962.js"><link rel="prefetch" href="/assets/js/4.4a148340.js"><link rel="prefetch" href="/assets/js/5.bf1c4045.js"><link rel="prefetch" href="/assets/js/6.0301d6ce.js"><link rel="prefetch" href="/assets/js/7.834c3d59.js"><link rel="prefetch" href="/assets/js/8.ff782329.js">
    <link rel="stylesheet" href="/assets/css/0.styles.17440289.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme__container"><div class="row"><div class="col-md-3 col-lg-2 sidebar__container"><div class="menu menu__container"><div class="menu__box"><a class="menu__btn"><div class="hamburger"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></a></div></div> <div class="sidebar" style="width:100%;display:none;"><div class="group"><div class="category__link"><div class="docs__header"><a href="/"><img src="/dblnew.png" class="docs__logo"></a> <h1 class="docs__title">Top.gg Docs</h1></div></div></div> <!----> <div class="group"><div class="group__title">
      API
    </div> <div class="group__body"><!----> <!----> <div><div class="group__category category"><div class="category__label"><a href="/bot.html" class="category__link sidebar-link">Bot</a></div> <div><div class="category__headers"><div class="category__header-item"><a href="/bot.html#search-bots" class="category__link sidebar-link">Search Bots</a></div></div><div class="category__headers"><div class="category__header-item"><a href="/bot.html#find-one-bot" class="category__link sidebar-link">Find One Bot</a></div></div><div class="category__headers"><div class="category__header-item"><a href="/bot.html#last-1000-votes" class="category__link sidebar-link">Last 1000 Votes</a></div></div><div class="category__headers"><div class="category__header-item"><a href="/bot.html#bot-structure" class="category__link sidebar-link">Bot Structure</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/user.html" class="category__link sidebar-link">User</a></div> <div><div class="category__headers"><div class="category__header-item"><a href="/user.html#find-one-user" class="category__link sidebar-link">Find One User</a></div></div><div class="category__headers"><div class="category__header-item"><a href="/user.html#structure" class="category__link sidebar-link">Structure</a></div></div></div></div></div></div></div><div class="group"><div class="group__title">
      Resources
    </div> <div class="group__body"><!----> <!----> <div><div class="group__category category category--selected category--active"><div class="category__label"><a href="/libraries.html" aria-current="page" class="category__link sidebar-link router-link-exact-active router-link-active">Libraries</a></div> <div><div class="category__headers"><div class="category__header-item"><a href="/libraries.html#javascript-official" class="category__link sidebar-link">Javascript</a></div></div></div></div></div></div></div></div></div> <div class="col-md-9 col-lg-10 content__container"><div class="page__container"><div custom="" class="content__default"><div class="content-block"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="libraries"><a href="#libraries" class="header-anchor">#</a> Libraries</h1> <p>To make your life easier, the top.gg community has official and unofficial libraries you can use to interact with our API with ease.</p></div> <div class="content-block__examples"></div></div></div> <div class="content-block"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="javascript-official"><a href="#javascript-official" class="header-anchor">#</a> Javascript <code class="pill" style="margin-left:10px;" data-v-3b9109c1>Official</code></h2> <h3 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h3> <p><code>npm install dblapi.js</code> or <code>yarn add dblapi.js</code></p> <p>We recommend keeping your configuration inside a separate config file like <code>config.json</code> (or the configuration storage of your choice) instead of harcoding it in your source code so you can keep it out of version control.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;token&quot;</span><span class="token operator">:</span> <span class="token string">&quot;your-bot-token-here&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div> <h3 id="webhooks"><a href="#webhooks" class="header-anchor">#</a> Webhooks</h3> <p>The API can also be configured to receive events for when users vote for your bot through webhooks. You must first configure webhooks in your bot through the dashboard before using this.</p> <div type="example" class="examples"><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Discord <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'discord.js'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token constant">DBL</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dblapi.js'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> token <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./config.json'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Discord<span class="token punctuation">.</span>Client</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> dbl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DBL</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> client<span class="token punctuation">)</span>

<span class="token comment">// Optional events</span>
dbl<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'posted'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Server count posted!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

dbl<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Oops! </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>e<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">DBL</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'dblapi.js'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> token <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./config.json'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> dbl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DBL</span><span class="token punctuation">(</span>token<span class="token punctuation">,</span> <span class="token punctuation">{</span> webhookPort<span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span> webhookAuth<span class="token operator">:</span> <span class="token string">'password'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
dbl<span class="token punctuation">.</span>webhook<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'ready'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">hook</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Webhook running at http://</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hook<span class="token punctuation">.</span>hostname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hook<span class="token punctuation">.</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>hook<span class="token punctuation">.</span>path<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
dbl<span class="token punctuation">.</span>webhook<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'vote'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">vote</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">User with ID </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>vote<span class="token punctuation">.</span>user<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> just voted!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></div></div> <div class="content-block__examples"></div></div></div></div> <div class="content__footer-container"><div class="content__footer"><div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/2/2020, 11:22:40 PM</span></div> <!----></div></div></div></div></div> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f0768e51.js" defer></script><script src="/assets/js/3.de95a03c.js" defer></script><script src="/assets/js/9.afb9b26d.js" defer></script>
  </body>
</html>
